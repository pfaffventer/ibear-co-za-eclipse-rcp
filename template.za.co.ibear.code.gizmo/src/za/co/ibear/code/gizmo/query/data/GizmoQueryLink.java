package za.co.ibear.code.gizmo.query.data;

import za.co.ibear.code.data.dictionary.system.query.Query;
import za.co.ibear.code.gizmo.GizmoQuery;
import za.co.ibear.code.gizmo.unit.data.GizmoUnitDataConstant;

public class GizmoQueryLink extends GizmoQuery {

	public GizmoQueryLink(Query query) throws Exception {
		super(query,query.NAME + "Link",query.NAME + "Model",GizmoUnitDataConstant.PACKAGE_PREFIX,GizmoUnitDataConstant.PATH_PREFIX);
		
		/**
		 * Check for hard coded strings e.g. search and replace (S)(s)tockQuery. 
		 * 
		 * " + query.NAME.toLowerCase() + "
		 * " + query.NAME + "
		 *  
		 */

		content = content + "import java.lang.reflect.Constructor;\n";
		content = content + "import java.lang.reflect.Method;\n";
		content = content + "import java.util.List;\n";
		content = content + "import java.util.ArrayList;\n";

		content = content + "import gk.jfilter.JFilter;\n";

		content = content + "import java.util.Arrays;\n";
		content = content + "import java.util.Calendar;\n";
		content = content + "import java.util.Date;\n";
		content = content + "import java.util.HashMap;\n";
		content = content + "import java.util.LinkedHashSet;\n";
		content = content + "import java.util.Map;\n";
		content = content + "import java.util.Map.Entry;\n";
		content = content + "import java.util.Set;\n";
		content = content + "import java.util.TreeSet;\n";

		content = content + "import org.apache.commons.dbutils.QueryRunner;\n";
		content = content + "import org.apache.commons.dbutils.handlers.BeanListHandler;\n";

		content = content + "import za.co.ibear.property.model.PropertyModel;\n";
		content = content + "import za.co.ibear.swt.control.combo.BCombo;\n";
		content = content + "import za.co.ibear.code.data.dictionary.definition.query." + query.NAME + ";\n";
		content = content + "import za.co.ibear.code.data.dictionary.system.database.DatabaseConstant;\n";
		content = content + "import za.co.ibear.code.data.dictionary.system.field.Field;\n";
		content = content + "import za.co.ibear.code.data.dictionary.system.primary.key.PrimaryKey;\n";
		content = content + "import za.co.ibear.code.data.dictionary.system.unit.Unit;\n";
		content = content + "import za.co.ibear.lib.jdbc.sqlite.SqliteJdbc;\n";
		content = content + "public class " + query.NAME + "Link extends PropertyModel {\n";
		content = content + "	\n";
		content = content + "	private SqliteJdbc database" + query.NAME + "Link = null;\n";
		content = content + "	\n";
		content = content + "	private List<" + query.NAME + "Model> data = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "	private List<" + query.NAME + "Model> filterData = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "	private Set<BCombo> multiSet = new LinkedHashSet<BCombo>();\n";
		content = content + "	private Set<BCombo> unitSet = new LinkedHashSet<BCombo>();\n";
		content = content + "	private Set<BCombo> dateSet = new LinkedHashSet<BCombo>();\n";
		content = content + "	\n";
		content = content + "	protected JFilter<" + query.NAME + "Model> filter;\n";
		content = content + "	private " + query.NAME + " query = new " + query.NAME + "();\n";
		content = content + "	public " + query.NAME + "Link() throws Exception {\n";
		content = content + "		try {\n";
		content = content + "			database" + query.NAME + "Link = new SqliteJdbc(DatabaseConstant.DB_CONNECTION);\n";
		content = content + "		} catch (Exception e) {\n";
		content = content + "			e.printStackTrace();\n";
		content = content + "			throw e;\n";
		content = content + "		} \n";
		content = content + "	}\n";
		content = content + "	public void disconnect() {\n";
		content = content + "		try {\n";
		content = content + "			database" + query.NAME + "Link.disconnect();\n";
		content = content + "		} catch (Exception e) {\n";
		content = content + "		}\n";
		content = content + "	}\n";
		content = content + "	public List<" + query.NAME + "Model> pop() throws Exception {\n";
		content = content + "		QueryRunner qr = new QueryRunner();\n";
		content = content + "		setData((List<" + query.NAME + "Model>) qr.query(database" + query.NAME + "Link.getConnection(),this.query.SQL,new BeanListHandler<" + query.NAME + "Model>(" + query.NAME + "Model.class)));\n";
		content = content + "		return getData();\n";
		content = content + "	}\n";
		content = content + "	public List<" + query.NAME + "Model> to" + query.NAME + "ModelList(String where) throws Exception {\n";
		content = content + "		String sql = this.query.SQL;\n";
		content = content + "		if(where!=null) {\n";
		content = content + "			sql = sql + where;\n";
		content = content + "		}\n";
		content = content + "		QueryRunner qr = new QueryRunner();\n";
		content = content + "		setData((List<" + query.NAME + "Model>) qr.query(database" + query.NAME + "Link.getConnection(),sql,new BeanListHandler<" + query.NAME + "Model>(" + query.NAME + "Model.class)));\n";
		content = content + "		return getData();\n";
		content = content + "	}\n";

		content = content + "	public void stringSearch(String searchString) {\n";
		content = content + "		filter = new JFilter<" + query.NAME + "Model>(data, " + query.NAME + "Model.class);\n";
		content = content + "		List<" + query.NAME + "Model> resultSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "		boolean filtered = false;\n";
		content = content + "		Class<" + query.NAME + "Model> model = " + query.NAME + "Model.class;\n";
		content = content + "		String[] values = searchString.split( );\n";
		content = content + "		Method[] methods = model.getDeclaredMethods();\n";
		content = content + "		for(String value:values) {\n";
		content = content + "			if(value.trim().length()>0) {\n";
		content = content + "				for (Method method : methods) {\n";
		content = content + "		        	if(method.getReturnType().getSimpleName().equals(String)) {\n";
		content = content + "		        		if(method.getName().startsWith(get)) {\n";
		content = content + "		        			List<" + query.NAME + "Model> result = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "		        			result.addAll(filter.filter({' + method.getName() + ':{'$cts':'?1'}},value.trim()).out(new ArrayList<" + query.NAME + "Model>()));\n";
		content = content + "		        			resultSet.removeAll(result);\n";
		content = content + "		        			resultSet.addAll(result);\n";
		content = content + "		        		}\n";
		content = content + "		        	}\n";
		content = content + "		        }\n";
		content = content + "				filtered=true;\n";
		content = content + "			}\n";
		content = content + "		}\n";
		content = content + "		if(filtered) {\n";
		content = content + "			setFilterData(resultSet);\n";
		content = content + "		} else {\n";
		content = content + "			setFilterData(data);\n";
		content = content + "			return;\n";
		content = content + "		}\n";
		content = content + "		for(BCombo bcombo:multiSet) {\n";
		content = content + "			try {\n";
		content = content + "				reduceBComboItems(bcombo);\n";
		content = content + "			} catch (Exception e) {\n";
		content = content + "				e.printStackTrace();\n";
		content = content + "			}\n";
		content = content + "		}\n";
		content = content + "		reduceUnitBrowse();\n";
		content = content + "	}\n";
		
		content = content + "	public void filter(String column,List<String> values) {\n";
		content = content + "		filter = new JFilter<" + query.NAME + "Model>(data, " + query.NAME + "Model.class);\n";
		content = content + "		List<" + query.NAME + "Model> tempSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "		List<" + query.NAME + "Model> resultSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "		boolean filtered = false;\n";
		content = content + "		if(values.size()>0) {\n";
		content = content + "			for(String value:values) {\n";
		content = content + "				tempSet.addAll(filter.filter({'get + column.trim() + ':{'trim':'?1'}},value.trim()).out(new ArrayList<" + query.NAME + "Model>()));\n";
		content = content + "			}\n";
		content = content + "			resultSet = tempSet;\n";
		content = content + "			filter = new JFilter<" + query.NAME + "Model>(resultSet, " + query.NAME + "Model.class);\n";
		content = content + "			tempSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "			filtered=true;\n";
		content = content + "		}\n";
		content = content + "		if(filtered) {\n";
		content = content + "			setData(resultSet);\n";
		content = content + "		} else {\n";
		content = content + "			setData(data);\n";
		content = content + "		}\n";
		content = content + "	}\n";
		content = content + "	public List<" + query.NAME + "Model> to" + query.NAME + "ModelList(String where,Map<String,List<String>> initFilter) throws Exception {\n";
		content = content + "		String sql = this.query.SQL;\n";
		content = content + "		if(where!=null) {\n";
		content = content + "			sql = sql + where;\n";
		content = content + "		}\n";
		content = content + "		QueryRunner qr = new QueryRunner();\n";
		content = content + "		initFilter(initFilter,(List<" + query.NAME + "Model>) qr.query(database" + query.NAME + "Link.getConnection(),sql,new BeanListHandler<" + query.NAME + "Model>(" + query.NAME + "Model.class)));\n";
		content = content + "		return getData();\n";
		content = content + "	}\n";
		content = content + "	public void initFilter(Map<String,List<String>> initFilter,List<" + query.NAME + "Model> allData) {\n";
		content = content + "		filter = new JFilter<" + query.NAME + "Model>(allData, " + query.NAME + "Model.class);\n";
		content = content + "		List<" + query.NAME + "Model> tempSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "		List<" + query.NAME + "Model> resultSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "		boolean filtered = false;\n";
		content = content + "		for(Entry<String,List<String>> column:initFilter.entrySet()) {\n";
		content = content + "			String columnName = column.getKey().trim();\n";
		content = content + "			List<String> values = column.getValue();\n";
		content = content + "			if(values.size()>0) {\n";
		content = content + "				for(String value:values) {\n";
		content = content + "					tempSet.addAll(filter.filter({'get + columnName.trim() + ':{'trim':'?1'}},value.trim()).out(new ArrayList<" + query.NAME + "Model>()));\n";
		content = content + "				}\n";
		content = content + "				resultSet = tempSet;\n";
		content = content + "				filter = new JFilter<" + query.NAME + "Model>(resultSet, " + query.NAME + "Model.class);\n";
		content = content + "				tempSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "				filtered=true;\n";
		content = content + "			}\n";
		content = content + "		}\n";
		content = content + "		if(filtered) {\n";
		content = content + "			setData(resultSet);\n";
		content = content + "		} else {\n";
		content = content + "			setData(data);\n";
		content = content + "		}\n";
		content = content + "	}\n";
		content = content + "	@SuppressWarnings({ unchecked, rawtypes })\n";
		content = content + "	public List<String> toDistinctColumnArray(String column) throws Exception {\n";
		content = content + "		filter = new JFilter<" + query.NAME + "Model>(data, " + query.NAME + "Model.class);\n";
		content = content + "		Set<String> itemTree = new TreeSet<String>();\n";
		content = content + "		itemTree.addAll(filter.filter({'$not':[{'get + column + ':{'$sw':'?1'}}]}, _iBear_).map(column).out(new TreeSet()));\n";
		content = content + "		return new ArrayList<String>(Arrays.asList(itemTree.toArray(new String[itemTree.size()])));\n";
		content = content + "	}\n";
		content = content + "	@SuppressWarnings({ unchecked, rawtypes })\n";
		content = content + "	public void reduceBComboItems(BCombo bcombo) throws Exception {\n";
		content = content + "		filter = new JFilter<" + query.NAME + "Model>(filterData, " + query.NAME + "Model.class);\n";
		content = content + "		Set<String> itemTree = new TreeSet<String>();\n";
		content = content + "		itemTree.addAll(filter.filter({'$not':[{'get + bcombo.getColumnName() + ':{'$sw':'?1'}}]}, _iBear_).map(bcombo.getColumnName()).out(new TreeSet()));\n";
		content = content + "		bcombo.setItems(new ArrayList<String>(Arrays.asList(itemTree.toArray(new String[itemTree.size()]))));\n";
		content = content + "	}\n";
		content = content + "	public void doSelect() {\n";
		content = content + "		filter = new JFilter<" + query.NAME + "Model>(data, " + query.NAME + "Model.class);\n";
		content = content + "		List<" + query.NAME + "Model> tempSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "		List<" + query.NAME + "Model> resultSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "		boolean filtered = false;\n";
		content = content + "		for(BCombo bcombo:multiSet) {\n";
		content = content + "			if(bcombo.getSelection().size()>0) {\n";
		content = content + "				for(String selected:bcombo.getSelection()) {\n";
		content = content + "					tempSet.addAll(filter.filter({'get + bcombo.getColumnName() + ':{'trim':'?1'}},selected.trim()).out(new ArrayList<" + query.NAME + "Model>()));\n";
		content = content + "				}\n";
		content = content + "				resultSet = tempSet;\n";
		content = content + "				filter = new JFilter<" + query.NAME + "Model>(resultSet, " + query.NAME + "Model.class);\n";
		content = content + "				tempSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "				filtered=true;\n";
		content = content + "			}\n";
		content = content + "		}\n";
		content = content + "		for(BCombo bcombo:unitSet) {\n";
		content = content + "			if(bcombo.getBrowseSelection().size()>0) {\n";
		content = content + "				for(Entry<String, TreeSet<String>> selection:bcombo.getBrowseSelection().entrySet()) {\n";
		content = content + "					String columnName = selection.getKey();\n";
		content = content + "					TreeSet<String> columnData = selection.getValue();\n";
		content = content + "					if(columnData.size()>0) {\n";
		content = content + "						for(String data:columnData) {\n";
		content = content + "							tempSet.addAll(filter.filter({'get + columnName.trim() + ':{'trim':'?1'}},data.trim()).out(new ArrayList<" + query.NAME + "Model>()));\n";
		content = content + "						}\n";
		content = content + "						resultSet = tempSet;\n";
		content = content + "						filter = new JFilter<" + query.NAME + "Model>(resultSet, " + query.NAME + "Model.class);\n";
		content = content + "						tempSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "						filtered=true;\n";
		content = content + "					}\n";
		content = content + "				}\n";
		content = content + "			}\n";
		content = content + "		}\n";
		content = content + "		for(BCombo bcombo:dateSet) {\n";
		content = content + "			if(bcombo.getDatedDialog().getSelection().size()>0) {\n";
		content = content + "				Date from = bcombo.getDatedDialog().getSelection().get(from);\n";
		content = content + "				Date to = bcombo.getDatedDialog().getSelection().get(to);\n";
		content = content + "				String query = ;\n";
		content = content + "				if(bcombo.getDatedDialog().getSelection().get(from).compareTo(bcombo.getDatedDialog().getSelection().get(to))==0) {\n";
		content = content + "					Calendar calculator = Calendar.getInstance();\n";
		content = content + "					calculator.setTime(to);\n";
		content = content + "					calculator.add(Calendar.DATE,1);\n";
		content = content + "					to = calculator.getTime();\n";
		content = content + "					query = {'$and':[{'get + bcombo.getColumnName() + ':{'$ge':'?1'}}, {'get + bcombo.getColumnName() + ':{'$lt':'?2'}}]};\n";
		content = content + "				} else {\n";
		content = content + "					query= {'$and':[{'get + bcombo.getColumnName() + ':{'$ge':'?1'}}, {'get + bcombo.getColumnName() + ':{'$le':'?2'}}]};\n";
		content = content + "				}\n";
		content = content + "				tempSet.addAll(filter.filter(query,from,to).out(new ArrayList<" + query.NAME + "Model>()));\n";
		content = content + "				resultSet = tempSet;\n";
		content = content + "				filter = new JFilter<" + query.NAME + "Model>(resultSet, " + query.NAME + "Model.class);\n";
		content = content + "				tempSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "				filtered=true;\n";
		content = content + "			}\n";
		content = content + "		}\n";
		content = content + "		if(filtered) {\n";
		content = content + "			setFilterData(resultSet);\n";
		content = content + "		} else {\n";
		content = content + "			setFilterData(data);\n";
		content = content + "		}\n";
		content = content + "		for(BCombo bcombo:multiSet) {\n";
		content = content + "			try {\n";
		content = content + "				reduceBComboItems(bcombo);\n";
		content = content + "			} catch (Exception e) {\n";
		content = content + "				e.printStackTrace();\n";
		content = content + "			}\n";
		content = content + "		}\n";
		content = content + "		reduceUnitBrowse();\n";
		content = content + "	}\n";
		content = content + "	\n";
		content = content + "	public void reduceUnitBrowse() {\n";
		content = content + "		for(BCombo bcombo:unitSet) {\n";
		content = content + "			Map<String,TreeSet<String>> selection = new HashMap<String,TreeSet<String>>();\n";
		content = content + "			String name = za.co.ibear.code.data.dictionary.definition.unit. + bcombo.getColumnName();\n";
		content = content + "			try {\n";
		content = content + "				@SuppressWarnings(rawtypes)\n";
		content = content + "				Class meta = Class.forName(name);\n";
		content = content + "				@SuppressWarnings({ unchecked, rawtypes })\n";
		content = content + "				Constructor constructor = meta.getConstructor();\n";
		content = content + "				Unit unitMeta = (Unit) constructor.newInstance();\n";
		content = content + "				Set<PrimaryKey> keySet = unitMeta.PRIMARY_KEY;\n";
		content = content + "				for(PrimaryKey pk:keySet) {\n";
		content = content + "					for(Field field:pk.FIELD) {\n";
		content = content + "						selection.put(field.getName(), (TreeSet<String>) toDistinctFilterSet(field.getName()));\n";
		content = content + "					}\n";
		content = content + "				}\n";
		content = content + "				bcombo.setBrowseSelection(selection);\n";
		content = content + "			} catch (Exception e) {\n";
		content = content + "				e.printStackTrace();\n";
		content = content + "			}\n";
		content = content + "		}\n";
		content = content + "	}\n";

		content = content + "	public void doReduceUnitBrowse(Map<String,TreeSet<String>> selection) {\n";
		content = content + "		filter = new JFilter<" + query.NAME + "Model>(data, " + query.NAME + "Model.class);\n";
		content = content + "		List<" + query.NAME + "Model> tempSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "		List<" + query.NAME + "Model> resultSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "		boolean filtered = false;\n";
		content = content + "		if(selection.size()>0) {\n";
		content = content + "			for(Entry<String, TreeSet<String>> entry:selection.entrySet()) {\n";
		content = content + "				String columnName = entry.getKey();\n";
		content = content + "				TreeSet<String> columnData = entry.getValue();\n";
		content = content + "				if(columnData.size()>0) {\n";
		content = content + "					for(String data:columnData) {\n";
		content = content + "						tempSet.addAll(filter.filter({'get + columnName.trim() + ':{'trim':'?1'}},data.trim()).out(new ArrayList<" + query.NAME + "Model>()));\n";
		content = content + "					}\n";
		content = content + "					resultSet = tempSet;\n";
		content = content + "					filter = new JFilter<" + query.NAME + "Model>(resultSet, " + query.NAME + "Model.class);\n";
		content = content + "					tempSet = new ArrayList<" + query.NAME + "Model>();\n";
		content = content + "					filtered=true;\n";
		content = content + "				}\n";
		content = content + "			}\n";
		content = content + "		}\n";
		content = content + "		if(filtered) {\n";
		content = content + "			setFilterData(resultSet);\n";
		content = content + "		} else {\n";
		content = content + "			setFilterData(data);\n";
		content = content + "		}\n";
		content = content + "		for(BCombo bcombo:multiSet) {\n";
		content = content + "			try {\n";
		content = content + "				reduceBComboItems(bcombo);\n";
		content = content + "			} catch (Exception e) {\n";
		content = content + "				e.printStackTrace();\n";
		content = content + "			}\n";
		content = content + "		}\n";
		content = content + "	}\n";
		content = content + "	\n";
		content = content + "	@SuppressWarnings({ unchecked, rawtypes })\n";
		content = content + "	public Set<String> toDistinctFilterSet(String column) throws Exception {\n";
		content = content + "		filter = new JFilter<" + query.NAME + "Model>(filterData, " + query.NAME + "Model.class);\n";
		content = content + "		Set<String> itemTree = new TreeSet<String>();\n";
		content = content + "		itemTree.addAll(filter.filter({'$not':[{'get + column + ':{'$sw':'?1'}}]}, _iBear_).map(column).out(new TreeSet()));\n";
		content = content + "		return itemTree;\n";
		content = content + "	}\n";

		content = content + "	public void doReset() {\n";
		content = content + "		setFilterData(data);\n";
		content = content + "		for(BCombo bcombo:multiSet) {\n";
		content = content + "			bcombo.setAllSelected();\n";
		content = content + "			try {\n";
		content = content + "				reduceBComboItems(bcombo);\n";
		content = content + "			} catch (Exception e) {\n";
		content = content + "				e.printStackTrace();\n";
		content = content + "			}\n";
		content = content + "			bcombo.getIndicator().setText(> );\n";
		content = content + "		}\n";
		content = content + "		for(BCombo bcombo:unitSet) {\n";
		content = content + "			bcombo.clearUnitBrowse();\n";
		content = content + "			bcombo.getIndicator().setText(> );\n";
		content = content + "		}\n";
		content = content + "		for(BCombo bcombo:dateSet) {\n";
		content = content + "			bcombo.getDatedDialog().clear();\n";
		content = content + "			bcombo.getIndicator().setText(> );\n";
		content = content + "		}\n";
		content = content + "		expandUnitBrowse();\n";
		content = content + "	}\n";

		content = content + "	public void expandUnitBrowse() {\n";
		content = content + "		for(BCombo bcombo:unitSet) {\n";
		content = content + "			Map<String,TreeSet<String>> selection = new HashMap<String,TreeSet<String>>();\n";
		content = content + "			bcombo.setBrowseSelection(selection);\n";
		content = content + "		}\n";
		content = content + "	}\n";
		content = content + "	public void doExpandUnitBrowse() {\n";
		content = content + "		setFilterData(data);\n";
		content = content + "	}\n";

		content = content + "	public List<" + query.NAME + "Model> getData() {\n";
		content = content + "		return data;\n";
		content = content + "	}\n";
		content = content + "	public void setData(List<" + query.NAME + "Model> data) {\n";
		content = content + "		firePropertyChange(data, this.data, this.data = data);\n";
		content = content + "	}\n";
		content = content + "	public List<" + query.NAME + "Model> getFilterData() {\n";
		content = content + "		return filterData;\n";
		content = content + "	}\n";
		content = content + "	public void setFilterData(List<" + query.NAME + "Model> filterData) {\n";
		content = content + "		this.filterData = filterData;\n";
		content = content + "	}\n";
		content = content + "	public Set<BCombo> getMultiSet() {\n";
		content = content + "		return multiSet;\n";
		content = content + "	}\n";
		content = content + "	public void setMultiSet(Set<BCombo> filterSet) {\n";
		content = content + "		this.multiSet = filterSet;\n";
		content = content + "	}\n";
		content = content + "	public Set<BCombo> getUnitSet() {\n";
		content = content + "		return unitSet;\n";
		content = content + "	}\n";
		content = content + "	public void setUnitSet(Set<BCombo> unitSet) {\n";
		content = content + "		this.unitSet = unitSet;\n";
		content = content + "	}\n";
		content = content + "	public Set<BCombo> getDateSet() {\n";
		content = content + "		return dateSet;\n";
		content = content + "	}\n";
		content = content + "	public void setDateSet(Set<BCombo> dateSet) {\n";
		content = content + "		this.dateSet = dateSet;\n";
		content = content + "	}\n";
		content = content + "	public " + query.NAME + " getQuery() {\n";
		content = content + "		return query;\n";
		content = content + "	}\n";
		content = content + "	public void setQuery(" + query.NAME + " query) {\n";
		content = content + "		this.query = query;\n";
		content = content + "	}\n";
		content = content + "	protected void p(String v) {\n";
		content = content + "		System.out.println(this.getClass().getSimpleName() + :) + v);\n";
		content = content + "	}\n";
		content = content + "}\n";

		
		
		createFile();		

	}

}
